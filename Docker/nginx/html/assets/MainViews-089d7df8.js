import{d as S,u as g,F as N,aY as te,o as h,a as I,aZ as K,b as o,j as a,k as u,t as F,f as O,y as e,am as q,l as Y,a_ as z,a$ as fe,a3 as G,b0 as We,x as T,c as D,b1 as L,B as j,z as oe,p as ve,m as ge,_ as Z,b2 as J,e as P,b3 as _e,r as he,A as De,w as Q,v as X,b4 as Se,b5 as Te,b6 as Re,b7 as Fe,b8 as Me,b9 as Ge,aR as je,ba as xe,n as ee}from"./index-3c1f20cf.js";import{E as be}from"./el-scrollbar-5e70c268.js";import{_ as ne,E as se,S as H,a as ze,b as Oe,c as ae}from"./el-select-49268853.js";import{f as pe,a as me,F as qe,_ as Ee,E as Ue,b as He,c as Ne}from"./filezip-710324b4.js";import{a as le,E as ie,b as re,c as ue,h as Pe}from"./moment-a900c884.js";import{E as ye,g as Ye}from"./el-progress-79455aff.js";import{_ as Le}from"./message-6d7be784.js";const Je=["onClick"],Ke={"w-12.5":"",flex:"","items-center":"","justify-center":""},Ze={"flex-grow":"","pl-2":"","text-gray-500":""},Qe={class:"h-1/2",flex:"","items-center":"","font-bold":""},Xe={"flex-grow":"","text-4":"","text-gray-700":""},et={class:"h-1/2",flex:"","items-center":"","font-bold":""},tt={"text-2":""},ot=S({__name:"asideReceiveTaskItem",setup(y){const s=g();pe().then(l=>s.value=l.data);const p=N(),i=l=>{p.push("/main/task"),m.id=l,m.type="upload"},m=te(),r=g(0);return m.$subscribe((l,c)=>{const d=c.time;d>r.value&&(r.value=d,pe().then(t=>s.value=t.data))},{detached:!0,deep:!0}),(l,c)=>{const d=ne,t=se;return h(!0),I(q,null,K(e(s),n=>(h(),I("div",{key:n.task.id},[o("div",{flex:"","w-full":"","h-17.5":"","p-2.5":"","bg-gray-50":"","hover:bg-gray-100":"",onClick:w=>i(n.task.id)},[o("div",Ke,[a(t,{size:50,src:n.group.icon?"/data/group/"+n.group.icon:""},{default:u(()=>[a(d,{"text-3xl":""})]),_:2},1032,["src"])]),o("div",Ze,[o("div",Qe,[o("span",Xe,F(n.task.name),1),o("div",{flex:"","items-center":"","justify-center":"","text-1":"",rounded:"","border-2":"","p-0.5":"","text-white":"","w-12":"",class:O(n.task.file?"bg-green":"bg-black")},F(n.task.file?"完成":"未完成"),3)]),o("div",et,[o("span",tt,"来源: "+F(n.group.name),1)])])],8,Je)]))),128)}}}),nt={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},st=o("path",{fill:"currentColor",d:"M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71l-.64.65z"},null,-1),at=[st];function lt(y,s){return h(),I("svg",nt,at)}const it={name:"ic-round-refresh",render:lt},rt={flex:"","items-center":"","bg-gray-200":"","h-12.5":""},we=S({__name:"asideMainItem",setup(y){const s=g(!0),p=g(),i=g(new Date().valueOf()),m=()=>{s.value=!1,r(),i.value=new Date().valueOf(),z({message:"成功刷新数据",type:"success"})},r=()=>{s.value=!s.value,p.value=s.value?"i-ic:outline-keyboard-arrow-down":"i-ic:outline-keyboard-arrow-right"};return r(),(l,c)=>{const d=it;return h(),I(q,null,[o("div",rt,[o("div",{flex:"","flex-grow":"","items-center":"","cursor-pointer":"",onClick:c[0]||(c[0]=t=>r())},[o("div",{class:O(e(p))},null,2),Y(l.$slots,"title")]),Y(l.$slots,"add"),o("div",{flex:"","text-xl":"","mr-3":"","cursor-pointer":"",onClick:c[1]||(c[1]=t=>m())},[a(d)])]),Y(l.$slots,"content",{isActive:e(s),timer:e(i)})],64)}}}),ut=["onClick"],ct={"w-12.5":"",flex:"","items-center":"","justify-center":""},dt={"flex-grow":"","pl-2":"","text-gray-500":""},_t={class:"h-1/2",flex:"","items-center":"","font-bold":""},pt={"flex-grow":"","text-4":"","text-gray-700":""},mt={class:"h-1/2",flex:"","items-center":"","font-bold":""},ft={"text-2":""},vt=S({__name:"asideCreateTaskItem",setup(y){const s=g();me().then(l=>s.value=l.data);const p=N(),i=l=>{p.push("/main/task"),m.id=l,m.type="modify"},m=te(),r=g(0);return m.$subscribe((l,c)=>{const d=c.time;d>r.value&&(r.value=d,me().then(t=>s.value=t.data))},{detached:!0,deep:!0}),(l,c)=>{const d=ne,t=se;return h(!0),I(q,null,K(e(s),n=>(h(),I("div",{key:n.task.id},[o("div",{flex:"","w-full":"","h-17.5":"","p-2.5":"","bg-gray-50":"","hover:bg-gray-100":"",onClick:w=>i(n.task.id)},[o("div",ct,[a(t,{size:50,src:n.group.icon?"/data/group/"+n.group.icon:""},{default:u(()=>[a(d,{"text-3xl":""})]),_:2},1032,["src"])]),o("div",dt,[o("div",_t,[o("span",pt,F(n.task.name),1),o("div",{flex:"","items-center":"","justify-center":"","text-1":"",rounded:"","border-2":"","p-0.5":"","text-white":"","w-12":"",class:O(n.task.file===n.group.member?"bg-green":"bg-black")},F(n.task.file)+"/"+F(n.group.member),3)]),o("div",mt,[o("span",ft,"创建于: "+F(n.group.name),1)])])],8,ut)]))),128)}}}),gt={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},ht=o("path",{fill:"currentColor",d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"},null,-1),xt=[ht];function bt(y,s){return h(),I("svg",gt,xt)}const $e={name:"ic-baseline-add",render:bt},yt={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},wt=o("path",{fill:"currentColor",d:"M3 3h18v2H3zm0 16h18v2H3zm0-8h18v2H3z"},null,-1),$t=[wt];function kt(y,s){return h(),I("svg",yt,$t)}const Ct={name:"ic-baseline-density-medium",render:kt},It={flex:"","bg-white":""},Vt=o("div",{flex:"","h-12.5":"","items-center":"","flex-grow":""},[o("div",{flex:"","items-center":"","justify-center":"",rounded:"","border-gary":"","flex-grow":"","h-8":"","border-2":"","bg-gray-900":"","text-white":""},"提 交 通")],-1),Bt={flex:"","h-12.5":"","justify-center":"","items-center":"","w-10":"","cursor-pointer":""},ke=S({__name:"asideHeaderItem",props:{open:{type:Function}},setup(y){const s=H();return(p,i)=>{const m=Ct,r=$e;return h(),I("div",It,[o("div",{flex:"","h-12.5":"","w-10":"","justify-center":"","items-center":"","cursor-pointer":"",onClick:i[0]||(i[0]=l=>e(s).isActive=!e(s).isActive)},[a(m,{"text-xl":"","text-gray-800":""})]),Vt,o("div",Bt,[a(r,{"text-2xl":"",onClick:i[1]||(i[1]=l=>y.open())})]),Y(p.$slots,"add")])}}}),At=y=>(ve("data-v-b29d71fe"),y=y(),ge(),y),Wt={flex:"","flex-grow":"","items-center":"","justify-center":"","rounded-xl":""},Dt=At(()=>o("p",null,"拖拽文件到此处或点击上传",-1)),St={flex:"","justify-between":""},Tt=S({__name:"asideAddTask",props:{dialog:{type:Boolean}},emits:["close-dialog","add-task"],setup(y,{emit:s}){const p=y,i=g(!1),m=te(),r=fe();G(p,()=>{i.value=p.dialog,i.value&&c()});const l=()=>{s("close-dialog",!1)},c=async()=>We().then(k=>d.value=k.data),d=g([]),t=g(!1),n=g(),w=g([]),_=(k,b)=>{w.value=b},$=(k,b)=>{w.value=b},v=T({name:"",introduce:"",groupId:"",file:new Blob}),V=g(),C=T({groupId:[{required:!0,message:"组id不能为空",trigger:"blur"},{required:!0,message:"组id不能为空",trigger:"change"}],name:[{required:!0,message:"组名不能为空",trigger:"blur"},{required:!0,message:"组名不能为空",trigger:"change"}],introduce:[{required:!0,message:"简介不能为空",trigger:"blur"},{required:!0,message:"简介不能为空",trigger:"change"}]}),f=()=>{n.value.clearFiles()},x=k=>{k&&(f(),k.resetFields(),t.value=!1,v.file=new Blob,l())},B=k=>{Ne(v,t.value&&w.value.length!==0).then(()=>{z({message:`成功创建任务${v.name}`,type:"success"}),s("add-task",!0),r.update.type="group",r.update.time=m.time=new Date().valueOf()}).catch(()=>{z({message:`创建任务${v.name}失败`,type:"error"})}).finally(()=>x(k))},W=k=>{k&&k.validate(async b=>{if(b)if(t&&w.value.length!==0){const E=[];w.value.forEach(U=>{U.raw&&E.push(U.raw)}),v.file=await qe(E),B(k)}else B(k)})};return(k,b)=>{const E=ze,U=Oe,M=le,R=ie,Ce=Ee,Ie=ye,Ve=re,ce=Ue,Be=He,de=ue,Ae=ae;return h(),D(Ae,{modelValue:e(i),"onUpdate:modelValue":b[8]||(b[8]=A=>L(i)?i.value=A:null),title:"添加任务",width:"30rem","before-close":l,draggable:"","align-center":""},{footer:u(()=>[o("div",St,[a(M,{label:"开启上传"},{default:u(()=>[a(Be,{modelValue:e(t),"onUpdate:modelValue":b[5]||(b[5]=A=>L(t)?t.value=A:null)},{default:u(()=>[a(ce,{label:!0},{default:u(()=>[j("Yes")]),_:1}),a(ce,{label:!1,onClick:b[4]||(b[4]=A=>f())},{default:u(()=>[j("No")]),_:1})]),_:1},8,["modelValue"])]),_:1}),o("div",null,[a(de,{onClick:b[6]||(b[6]=A=>x(e(V)))},{default:u(()=>[j("取消")]),_:1}),a(de,{type:"primary",onClick:b[7]||(b[7]=A=>W(e(V)))},{default:u(()=>[j("确认")]),_:1})])])]),default:u(()=>[a(Ve,{"hide-required-asterisk":"","status-icon":"",rules:e(C),model:e(v),size:"large",ref_key:"ruleFormRef",ref:V,onSubmit:b[3]||(b[3]=oe(()=>{},["prevent"]))},{default:u(()=>[a(M,{label:"选择组ID",prop:"groupId"},{default:u(()=>[a(U,{modelValue:e(v).groupId,"onUpdate:modelValue":b[0]||(b[0]=A=>e(v).groupId=A),"w-full":""},{default:u(()=>[(h(!0),I(q,null,K(e(d),A=>(h(),D(E,{key:A.id,label:A.name,value:A.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),a(M,{label:"任务名称",prop:"name"},{default:u(()=>[a(R,{modelValue:e(v).name,"onUpdate:modelValue":b[1]||(b[1]=A=>e(v).name=A)},null,8,["modelValue"])]),_:1}),a(M,{label:"任务简介",prop:"introduce"},{default:u(()=>[a(R,{modelValue:e(v).introduce,"onUpdate:modelValue":b[2]||(b[2]=A=>e(v).introduce=A),type:"textarea"},null,8,["modelValue"])]),_:1}),a(M,{label:"上传文件"},{default:u(()=>[a(Ie,{"flex-grow":"",ref_key:"upload",ref:n,action:"#","auto-upload":!1,disabled:!e(t),"file-list":e(w),"on-change":_,"on-remove":$,multiple:"",drag:""},{default:u(()=>[o("div",{flex:"","justify-between":"",class:O(e(t)?"text-blue":"")},[o("div",Wt,[a(Ce,{"text-8.4":""}),Dt])],2)]),_:1},8,["disabled","file-list"])]),_:1})]),_:1},8,["rules","model"])]),_:1},8,["modelValue"])}}});const Rt=Z(Tt,[["__scopeId","data-v-b29d71fe"]]),Ft=o("h1",null,"我发布的任务",-1),Mt=o("h1",null,"接收到的任务",-1),Gt=S({__name:"asideTaskItem",setup(y){const s=H(),p=g(0),i=c=>{p.value=c},m=g(!1),r=()=>{s.hasDiglog=m.value=!0},l=c=>{s.hasDiglog=m.value=c};return(c,d)=>{const t=Rt,n=ke,w=vt,_=we,$=ot,v=be;return h(),I(q,null,[a(n,{open:r},{add:u(()=>[a(t,{dialog:e(m),onCloseDialog:l,onAddTask:i},null,8,["dialog"])]),_:1}),a(v,null,{default:u(()=>[a(_,null,{title:u(()=>[Ft]),content:u(({isActive:V,timer:C})=>[(h(),D(J,null,[V?(h(),D(w,{key:e(p)>C?e(p):C})):P("",!0)],1024))]),_:1}),a(_,null,{title:u(()=>[Mt]),content:u(({isActive:V,timer:C})=>[(h(),D(J,null,[V?(h(),D($,{key:e(p)>C?e(p):C})):P("",!0)],1024))]),_:1})]),_:1})],64)}}}),jt=["onClick"],zt={"w-12.5":"",flex:"","items-center":"","justify-center":""},Ot={"flex-grow":"","pl-2":"","text-gray-500":"","text-2":""},qt={class:"h-1/2",flex:"","items-center":"","font-bold":""},Et={"flex-grow":"","text-4":"","text-gray-700":""},Ut={class:"h-1/2",flex:"","items-center":"","font-bold":""},Ht={"flex-grow":""},Nt=S({__name:"asideGroupInfoItem",setup(y){const s=g();_e().then(l=>s.value=l.data);const p=N(),i=fe(),m=l=>{p.push("/main/group"),i.group.id=l},r=g(0);return i.$subscribe((l,c)=>{const d=c.update.time;c.update.type==="group"&&d>r.value&&(r.value=d,_e().then(t=>s.value=t.data))},{detached:!0,deep:!0}),(l,c)=>{const d=ne,t=se;return h(!0),I(q,null,K(e(s),n=>(h(),I("div",{key:n.id},[o("div",{flex:"","w-full":"","h-17.5":"","p-2.5":"","bg-gray-50":"","hover:bg-gray-100":"",onClick:w=>m(n.id)},[o("div",zt,[a(t,{size:50,src:n.icon?"/data/group/"+n.icon:"",onDragstart:c[0]||(c[0]=oe(()=>{},["prevent"]))},{default:u(()=>[a(d,{"text-3xl":""})]),_:2},1032,["src"])]),o("div",Ot,[o("div",qt,[o("span",Et,F(n.name),1),o("span",null,F(e(Pe)(n.createTime).format("YYYY-MM-DD")),1)]),o("div",Ut,[o("span",Ht,"人数: "+F(n.member),1),o("span",null,"任务总量: "+F(n.task),1)])])],8,jt)]))),128)}}}),Pt=y=>(ve("data-v-b1736bb8"),y=y(),ge(),y),Yt={flex:"","w-full":"","items-center":""},Lt=Pt(()=>o("p",{"text-blue":""},"拖拽文件或点击上传['可选']",-1)),Jt={"ml-2":"",flex:"","items-center":""},Kt={class:"w-full h-80 mt-5 rounded overflow-hidden"},Zt=S({__name:"asideGroupAddGroup",props:{dialog:{type:Boolean}},emits:["close-dialog","add-group"],setup(y,{emit:s}){const p=y,i=g(!1);G(p,()=>{i.value=p.dialog});const m=()=>{s("close-dialog",!1)},r=g(),l=f=>{r.value.clearFiles();const x=f[0];x.uid=Ye(),r.value.handleStart(x)},c=f=>{if(f.raw){let x=new FileReader;x.readAsDataURL(f.raw),x.onload=B=>{var W;t.img=(W=B.target)==null?void 0:W.result}}},d=g(),t=T({img:"",outputSize:1,outputType:"png",canScale:!0,autoCrop:!0,info:!1,autoCropWidth:200,autoCropHeight:200,canMoveBox:!1,fixedBox:!0,canMove:!0,centerBox:!0,fixed:!0,mode:"cover"}),n=()=>{t.img="",r.value.clearFiles()},w=T({name:""}),_=g(),$=T({name:[{required:!0,message:"组名不能为空",trigger:"blur"},{required:!0,message:"组名不能为空",trigger:"change"}]}),v=f=>{f&&(n(),f.resetFields(),m())},V=(f,x)=>{Se({...w,icon:x}).then(()=>{z({message:`成功创建组${w.name}`,type:"success"}),s("add-group",new Date().valueOf())}).catch(()=>z({message:`创建组${w.name}失败`,type:"error"})).finally(()=>v(f))},C=f=>{f&&f.validate(async x=>{x&&(t.img!==""?await d.value.getCropBlob(B=>{const W=new File([B],"clipImage"+B.type.split("/")[1],{type:B.type});V(f,W)}):V(f))})};return(f,x)=>{const B=ie,W=le,k=ye,b=ue,E=he("vueCropper"),U=re,M=ae;return h(),D(M,{modelValue:e(i),"onUpdate:modelValue":x[5]||(x[5]=R=>L(i)?i.value=R:null),title:"添加组",width:"30rem","before-close":m,draggable:"","align-center":""},{footer:u(()=>[a(b,{onClick:x[3]||(x[3]=R=>v(e(_)))},{default:u(()=>[j("取消")]),_:1}),a(b,{type:"primary",onClick:x[4]||(x[4]=R=>C(e(_)))},{default:u(()=>[j("确认")]),_:1})]),default:u(()=>[a(U,{"hide-required-asterisk":"","status-icon":"",rules:e($),model:e(w),size:"large",ref_key:"ruleFormRef",ref:_,onSubmit:x[2]||(x[2]=oe(()=>{},["prevent"]))},{default:u(()=>[a(W,{label:"组名",prop:"name"},{default:u(()=>[a(B,{modelValue:e(w).name,"onUpdate:modelValue":x[0]||(x[0]=R=>e(w).name=R),maxlength:"20",onKeyup:x[1]||(x[1]=De(R=>C(e(_)),["enter"]))},null,8,["modelValue"])]),_:1}),a(W,{label:"头像"},{default:u(()=>[o("div",Yt,[a(k,{action:"#",limit:1,"auto-upload":!1,drag:!0,accept:"image/*",ref_key:"upload",ref:r,"on-exceed":l,"on-change":c,"show-file-list":!1,"flex-grow":""},{default:u(()=>[Lt]),_:1},512),Q(o("div",Jt,[a(b,{type:"primary",onClick:n},{default:u(()=>[j("取消图片")]),_:1})],512),[[X,e(t).img!==""]])]),Q(o("div",Kt,[a(E,{ref_key:"cropper",ref:d,img:e(t).img,outputSize:e(t).outputSize,outputType:e(t).outputType,canScale:e(t).canScale,autoCrop:e(t).autoCrop,autoCropWidth:e(t).autoCropWidth,autoCropHeight:e(t).autoCropHeight,canMoveBox:e(t).canMoveBox,canMove:e(t).canMove,centerBox:e(t).centerBox,info:e(t).info,fixedBox:e(t).fixedBox,fixed:e(t).fixed,mode:e(t).mode},null,8,["img","outputSize","outputType","canScale","autoCrop","autoCropWidth","autoCropHeight","canMoveBox","canMove","centerBox","info","fixedBox","fixed","mode"])],512),[[X,e(t).img!==""]])]),_:1})]),_:1},8,["rules","model"])]),_:1},8,["modelValue"])}}});const Qt=Z(Zt,[["__scopeId","data-v-b1736bb8"]]),Xt={flex:""},eo=o("div",{flex:"","justify-between":"","text-1":"","text-gray":""},[o("div",null,"目前只支持通过邀请码加入"),o("div",null,"[使用小伙伴的邀请码加入吧]")],-1),to=S({__name:"asideGroupJoinGroup",props:{dialog:{type:Boolean}},emits:["close-dialog","join-group"],setup(y,{emit:s}){const p=y,i=g(!1);G(p,async()=>{i.value=p.dialog});const m=()=>{s("close-dialog",!1)},r=t=>{t&&t.validate(n=>{n&&Te(l.inviteCode).then(w=>{w.action?(z({message:"成功加入组",type:"success"}),s("join-group",new Date().valueOf())):z({message:"用户已经在组里",type:"error"})}).catch(()=>z({message:"邀请码无效/组不存在",type:"error"})).finally(()=>m())})},l=T({inviteCode:""}),c=g(),d=T({inviteCode:[{required:!0,message:"邀请码不能为空",trigger:"blur"},{required:!0,message:"邀请码不能为空",trigger:"change"}]});return(t,n)=>{const w=Le,_=ie,$=le,v=re,V=ue,C=ae;return h(),D(C,{modelValue:e(i),"onUpdate:modelValue":n[2]||(n[2]=f=>L(i)?i.value=f:null),title:"加入组",width:"30rem","before-close":m,draggable:"","align-center":""},{footer:u(()=>[eo]),default:u(()=>[o("div",Xt,[a(v,{"flex-grow":"","mr-4":"","hide-required-asterisk":"",rules:e(d),ref_key:"ruleFormRef",ref:c,model:e(l)},{default:u(()=>[a($,{prop:"inviteCode"},{default:u(()=>[a(_,{placeholder:"这里输入邀请码",modelValue:e(l).inviteCode,"onUpdate:modelValue":n[0]||(n[0]=f=>e(l).inviteCode=f)},{prefix:u(()=>[a(w)]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["rules","model"]),a(V,{type:"primary",onClick:n[1]||(n[1]=f=>r(e(c)))},{default:u(()=>[j("加入")]),_:1})])]),_:1},8,["modelValue"])}}}),oo=o("h1",null,"群组",-1),no=S({__name:"asideGroupItem",setup(y){const s=H(),p=g(!1),i=()=>{s.hasDiglog=p.value=!0},m=n=>{s.hasDiglog=p.value=n},r=g(0),l=n=>{r.value=n},c=g(!1),d=()=>{s.hasDiglog=c.value=!0},t=n=>{s.hasDiglog=c.value=n};return(n,w)=>{const _=to,$=ke,v=$e,V=Qt,C=Nt,f=we,x=be;return h(),I(q,null,[a($,{open:d},{add:u(()=>[a(_,{dialog:e(c),onCloseDialog:t,onJoinGroup:l},null,8,["dialog"])]),_:1}),a(x,null,{default:u(()=>[a(f,null,{title:u(()=>[oo]),add:u(()=>[o("div",{flex:"","text-xl":"","cursor-pointer":"",onClick:w[0]||(w[0]=B=>i())},[a(v,{"text-2xl":""})]),a(V,{dialog:e(p),onCloseDialog:m,onAddGroup:l},null,8,["dialog"])]),content:u(({isActive:B,timer:W})=>[(h(),D(J,null,[B?(h(),D(C,{key:e(r)>W?e(r):W})):P("",!0)],1024))]),_:1})]),_:1})],64)}}}),so=S({__name:"asideItem",setup(y){const s=H(),p=g(s.isActive),i=g(),m=g(),r=g(!1),l=T({isActive:!1,status:!1}),c=T({start:0,last:0}),{x:d}=Re(),{pressed:t}=Fe(),{isOutside:n}=Me(i),w=()=>({defalut:340,start:320,end:300,min:280,max:400,sepWidth:2,sepBoldWidth:8});let _=w();const $=Ge("asider-width",_.defalut),v=g(p.value?s.optionWidth.valueOf():0),V=g(0);($.value<_.start&&$.value>_.end||$.value<_.min||$.value>_.max)&&($.value=_.start);const C=T({width:$.value+"px"}),f=T({left:$.value+v.value-_.sepWidth/2+"px",width:_.sepWidth+"px"});G(s,()=>{p.value!==s.isActive&&(p.value=s.isActive,_=w(),v.value=p.value?s.optionWidth.valueOf():0,f.left=$.value+v.value-_.sepWidth/2+"px",console.log(v.value,f.left))}),G(d,()=>{t.value&&r.value&&c.start>=V.value&&d.value<=_.max&&(d.value>=_.start+v.value&&($.value=d.value-v.value,f.left=$.value+v.value+"px",C.width=$.value+"px"),l.isActive=!(d.value>_.start)),t.value&&l.status&&d.value<_.end&&c.last>d.value&&(C.width=_.start+"px",f.left=_.start-v.value+"px",l.status=!1),t.value&&l.isActive&&d.value<=_.end&&!l.status&&($.value=_.min,C.width=$.value+"px",f.left=$.value+v.value+"px",l.isActive=!1,l.status=!0),c.last=d.value}),G(n,()=>{s.hasDiglog||(c.start>=d.value-_.sepBoldWidth/2&&c.start<=d.value+_.sepBoldWidth&&(r.value=n.value?!0:r.value),c.start>=d.value-_.sepBoldWidth&&c.start<=d.value+_.sepBoldWidth/2&&(r.value=n.value?!0:r.value),t.value||(f.left=n.value?$.value+v.value-_.sepWidth/2+"px":$.value+v.value-_.sepBoldWidth/2+"px",f.width=n.value?_.sepWidth+"px":_.sepBoldWidth+"px",document.body.style.cursor=n.value?"default":"col-resize"))}),G(t,()=>{je(()=>{r.value=t.value?r.value:!1},500),c.start=d.value,V.value=$.value+v.value-_.sepBoldWidth/2,t.value||(f.left=$.value+v.value-_.sepWidth/2+"px",document.body.style.cursor="default",f.width=_.sepWidth+"px")});const x=N(),B=g(x.currentRoute.value.name),W=xe();G(x.currentRoute,()=>{B.value=x.currentRoute.value.name});const k=()=>B.value==="main"&&W.width.value<=1024,b=()=>B.value!=="main"&&W.width.value<=1024;return(E,U)=>{const M=no,R=Gt;return h(),I(q,null,[o("div",{"flex-col":"","bg-white":"","min-w-70":"",style:ee(k()?"":e(C)),class:O([k()?"flex-grow":"",b()?"hidden":"flex"]),ref_key:"aside",ref:m},[(h(),D(J,null,[e(s).item==="group"?(h(),D(M,{key:0})):e(s).item==="task"?(h(),D(R,{key:1})):P("",!0)],1024))],6),o("div",{absolute:"","h-full":"",class:O([k()?"hidden":"",b()?"hidden":""])},[o("div",{relative:"","top-0":"","h-full":"","bg-gray-400":"",style:ee(e(f)),ref_key:"separator",ref:i},null,4)],2)],64)}}}),ao={"h-12.5":"","w-12.5":"","rounded-full":"","hover:bg-gray-800":"",class:"flex-center","cursor-pointer":""},lo=S({__name:"optionIconItem",props:{item:null,icon:null},setup(y){const s=y,p=N(),i=H(),m=()=>{i.item=s.item,i.item==="user"&&p.push("/main/user")},r=()=>i.item===s.item?"text-green":"text-white";return(l,c)=>(h(),I("div",{"h-17.5":"",class:"flex-center",onClick:m},[o("div",ao,[o("a",{"text-2xl":"",class:O([y.icon,r()])},null,2)])]))}});const io=Z(lo,[["__scopeId","data-v-289ec7b5"]]),ro={"flex-grow":""},uo=S({__name:"optionItem",setup(y){const s=H(),p=T({width:s.optionWidth+"px"}),i=N(),m=g(i.currentRoute.value.name),r=xe();G(i.currentRoute,()=>{m.value=i.currentRoute.value.name});const l=()=>m.value!=="main"&&r.width.value<=1024;return(c,d)=>{const t=io;return Q((h(),I("div",{"flex-col":"","min-w-17.5":"","bg-gray-900":"",class:O([l()?"hidden":"flex"]),style:ee(e(p))},[o("div",ro,[a(t,{item:"group",icon:"i-ic:baseline-groups"}),a(t,{item:"task",icon:"i-carbon:task"})]),o("div",null,[a(t,{item:"user",icon:"i-carbon:user-avatar-filled"})])],6)),[[X,e(s).isActive]])}}}),co={flex:"","flex-row":"","h-full":"","bg-gray-100":""},_o=S({__name:"MainViews",setup(y){const s=H();return(p,i)=>{const m=uo,r=so,l=he("RouterView");return h(),I("div",co,[a(m),e(s).item!=="user"?(h(),D(r,{key:0})):P("",!0),a(l)])}}});const bo=Z(_o,[["__scopeId","data-v-b6804333"]]);export{bo as default};
